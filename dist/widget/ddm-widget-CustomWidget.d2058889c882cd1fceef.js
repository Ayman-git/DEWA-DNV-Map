(window.webpackRegister=window.webpackRegister||[]).push([{hash:"b22149bc08f8d9f1fca7",publicPath:"/"},["ddm-widget","ddm-widget-stylejs","ddm-widget-vendors~d939e436"],{"ddm-widget":{js:["9vf+x","@angular/core","@c8y/client","@c8y/ngx-components"],css:[]},"ddm-widget-stylejs":{js:["miz8j","miz8ja"],css:[]},"ddm-widget-vendors~d939e436":{js:["3v6md","MDaAn","ih/RX","tTteL"],css:[]}}]),(window.webpackJsonp=window.webpackJsonp||[]).push([["ddm-widget-CustomWidget"],{"ddm-widget-CustomWidget":function(A,t,e){"use strict";e.r(t),e.d(t,"DemoWidgetModule",(function(){return w})),e.d(t,"ɵa",(function(){return p})),e.d(t,"ɵb",(function(){return r}));var i=e("9vf+x"),a=e.n(i),n=e("3v6md"),o=e("@c8y/ngx-components"),s=e("@angular/core"),d=e("@c8y/client"),c=e("MDaAn"),r=(e("miz8j"),function(){function A(){this.config={}}return Object(n.__decorate)([Object(s.Input)()],A.prototype,"config",void 0),A=Object(n.__decorate)([Object(s.Component)({template:""})],A)}()),p=function(){function A(A,t,e,i){this.eventService=A,this.operationService=t,this.alert=e,this.inventoryService=i,this.mymap=null,this.popupstring='<div class="card" style="width: 200px; background-color: white;"><img src="https://img.icons8.com/ios/50/000000/substation.png" class="card-img-top"style="width: 200px; height:100px"><div class="card-body"><br><h4 class="card-title"></h4><hr style = "margin-top: 2px; margin-bottom: 2px;"><dl><dt>LM</dt><dd >8400</dd><hr style = "margin-top: 2px; margin-bottom: 2px;"><dt >Installation date</dt><dd class=>15 Jan 2020</dd><hr style = "margin-top: 2px; margin-bottom: 2px;"><dt>Running hours</dt><dd>482</dd><hr style = "margin-top: 2px; margin-bottom: 2px;"><dt translate="">Status</dt><dd><span class = "text-success"> Active </span></dd><hr style = "margin-top: 2px; margin-bottom: 2px;"><a href = "#" class="card-link">Request Maintenance</a></dl></div></div>',this.device_markers={},this.devices=[],this.green_icon=Object(c.icon)({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAMAAAA1b9QjAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMlQTFRFAAAAAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhDAHhD0AtUWgAAAEN0Uk5TABCEJwYLReR/HAECKqf+00wNF2jq//maLAM9uOBiFnP1Okm36HgSk/O8ZdL98KH00Wl827FBw/redgmVvjTZ64668gpU0PkAAACSSURBVHicTc7XFoIwFETRGwE7MaJXxYqKghrF3vv/f5SGZEHO417zMAAykjFM0LOyuXyhqEGpbNMKq2ri1OrYaLZScNsditjtkUT6Aw//2UNXgTkaC0B/MlViBGEsdMaUzBc8FlwGjpysIgnI1xvxydruqBKM9uLB4XjCpPPlCuTmp4De/QHsyTXB1xs+oQ7Ivz9BtRFuDMkS8QAAAABJRU5ErkJggg=="}),this.red_icon=Object(c.icon)({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAMAAAA1b9QjAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAN5QTFRFAAAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA9PpplAAAAEp0Uk5TAAMYBy6lNAkCH4LsiiIOT9L/11QQLJX6/JwwX9rfZBI4ovupPRN66u6BSbj9vlAejugjBFvGzGMFJ+3vLQZz3OB8CBy5R5mqmk5Ohx5FAAAAlUlEQVR4nFXMaReBUBSF4XMzRcIhucYklCFknufx//8hpVr3ej8+a68N4EcEAn9ForF4ggcxmZLSsshJJpvDfEHhJkW1hLRcYVdKtYaI9YYWAmnqLVeo0Q5Hna6JXlZPCKQ/oD8Z2iMfxhMH/SR16sFsvqCB0OVq7cpG32LYztgDHI4nZJ0vV7jdHYtl2jI8ni++9+cL8zcUfiF5cpMAAAAASUVORK5CYII="}),this.myIcon=null}return A.prototype.ngOnInit=function(){this.mymap=Object(c.map)("mapid").setView([24.760698,55.366582],15),console.log("I am here"),Object(c.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"sk.eyJ1IjoiY2V3OTc2NSIsImEiOiJja3N1aGpvZHIwMjloMm9wdDh2ZnNkbWtiIn0.kmUh2ED3rl3LQAygquxr3w"}).addTo(this.mymap);var A=0,t=[[24.758008,55.362967],[24.759733,55.361875],[24.767669,55.369639],[24.761822,55.363267],[24.761786,55.363214]],e=["PK11939A","PK15326A","PK15018A","PK15292A","PK15324A"],i=["","critical","","",""],a=[0,2,0,0,0],n=[5,5,5,6,7],o=["https://dewa.eu-latest.cumulocity.com/apps/app-builder/index.html#/application/57646/dashboard/405287/device/21250","https://dewa.eu-latest.cumulocity.com/apps/app-builder/index.html#/application/57646/dashboard/822600","https://dewa.eu-latest.cumulocity.com/apps/app-builder/index.html#/application/57646/dashboard/823524","https://dewa.eu-latest.cumulocity.com/apps/app-builder/index.html#/application/57646/dashboard/821765","https://dewa.eu-latest.cumulocity.com/apps/app-builder/index.html#/application/57646/dashboard/822603"];for(A=0;A<t.length;A++){""==i[A]?this.myIcon=this.green_icon:"critical"==i[A]&&(this.myIcon=this.red_icon),this.myIcon.options.iconSize=["10px","10px"];var s=Object(c.marker)([t[A][0],t[A][1]],{icon:this.myIcon}),d='<div class="card" style="width: 150px; background-color: white; color: black;">             \n            <div class="card-body"><br><h4 class="card-title"></h4> \n                <hr style = "margin-top: 2px; margin-bottom: 2px;"> \n                <dl>\n                    <dt>Name</dt>\n                    <dd> '+e[A]+' </dd>\n                    <hr style = "margin-top: 2px; margin-bottom: 2px;">                                                             \n                    <hr style = "margin-top: 2px; margin-bottom: 2px;">\n                    <dt translate="">Active Alarms</dt>\n                    <dd><span class = "text-warning">'+a[A]+'</span></dd>\n                    <dt translate="">Number of feeders</dt>\n                    <dd><span class = "text-warning">'+n[A]+'</span></dd>\n                    <hr style = "margin-top: 2px; margin-bottom: 2px;">\n                    <a href = "'+o[A]+'" class="card-link">Access Dashboard</a>\n                </dl></div></div>';s.addTo(this.mymap),s.bindPopup(d)}},A.ctorParameters=function(){return[{type:d.EventService},{type:d.OperationService},{type:o.AlertService},{type:d.InventoryService}]},Object(n.__decorate)([Object(s.Input)()],A.prototype,"config",void 0),A=Object(n.__decorate)([Object(s.Component)({template:"<p class=''>{{config.devices}} </p>\r\n<div id=\"mapid\"></div>\r\n\r\n",styles:["../styles/index.css"]})],A)}(),h={id:"acme.ddm.widget",label:"Drill Down Map",description:"Displays a Drill Down View",component:p,configComponent:r,previewImage:a.a},w=function(){function A(){}return A=Object(n.__decorate)([Object(s.NgModule)({imports:[o.CoreModule],declarations:[p,r],entryComponents:[p,r],providers:[{provide:o.HOOK_COMPONENTS,multi:!0,useValue:h}]})],A)}()}}]);
//# sourceMappingURL=ddm-widget-CustomWidget.d2058889c882cd1fceef.js.map